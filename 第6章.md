## ref 定义

```js
function ref(val) {
  const wrapper = { value: val };

  Object.defineProperty(wrapper, "__v_isRef", {
    value: true,
  });
  return reactive(wrapper);
}
```

## reactive 解构就失去响应了，先手动解决

```js
const obj = reactive({ foo: 1, bar: 2 });
const newObj = {
  foo: {
    get value() {
      return obj.foo;
    },
  },
  bar: {
    get value() {
      return obj.bar;
    },
  },
};
```

## 封装

```js
function toRef(obj, key) {
  const wrapper = {
    get value() {
      return obj[key];
    },
  };
  return wrapper;
}

function toRefs(obj) {
  let ret = {};
  for (const key in obj) {
    ret[key] = toRef(obj, key);
  }
}
```
